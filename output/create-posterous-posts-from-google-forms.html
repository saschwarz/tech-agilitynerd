<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <title>tech.agilitynerd</title>
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Steve Schwarz">
            <!-- <link href="http://tech.agilitynerd.com/TechAgilityNerd" type="application/atom+xml" rel="alternate" title="tech.agilitynerd Atom Feed" /> -->
    <link href="http://feeds.feedburner.com/TechAgilityNerd" type="application/atom+xml" rel="alternate" title="tech.agilitynerd Atom Feed" />
                <!-- Le styles -->
    <link href="./theme/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
      padding-top: 60px;
      padding-bottom: 40px;
      }
      .sidebar-nav {
      padding: 9px 0;
      }
    </style>
    <link href="./theme/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="./theme/local.css" rel="stylesheet">
    <link href="./theme/pygments.css" rel="stylesheet">
          </head>
  <body>
<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
            
    <div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
      </a>
      <a class="brand" href="./index.html">tech.agilitynerd</a>
      <div class="nav-collapse collapse">
	<ul class="nav">
	  	  	  	  	  	  <li ><a href="./category/devops.html">devops</a></li>
	  	  <li ><a href="./category/misc.html">misc</a></li>
	  	  <li ><a href="./category/programming.html">programming</a></li>
	  	  <li ><a href="./category/python.html">python</a></li>
	  	  <li class="active"><a href="./category/webdev.html">webdev</a></li>
	  	</ul>
	<p class="navbar-text pull-right">
	  <a class="navbar-link" href="./archives.html">[archives]</a>
	  <a class="navbar-link" href="./tags.html">[tags]</a>
	</p>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>
    <div class="container-fluid">
      <div class="row-fluid">
	<div class="span1">&nbsp;</div>
	<div class="span10">
	  <div class="row-fluid">
            <div class="span9">
	      	      <div class='article'>
  <div class="page-header"><h1>Create Posterous Posts from Google Forms</h1></div>
  <div class="well small"><a class="more" href="./create-posterous-posts-from-google-forms.html">On 12 May 2012 at 2357</a>
by <a class="url fn" href="./author/steve-schwarz.html">Steve Schwarz</a> in <a href="./category/webdev.html">webdev</a>
 | <a href="./create-posterous-posts-from-google-forms.html#disqus_thread">Comments</a></div>
  <div><p>I've been organizing dog agility bloggers for&nbsp;<a class="reference external" href="http://dog-agility-blog-events.posterous.com/">Dog Agility Blog Action
Days</a>&nbsp;and wanted to automate updating our group's blog when each
blogger posted their article on the event/action days. For past events I
had the bloggers email me with the information and manually created each
entry in the blog.</p>
<p>Since <a class="reference external" href="http://posterous.com">posterous</a> supports posting via email I knew I could create a
form on one of my web servers and have the page format the data so
posterous could turn it into a post. Here are the details for formatting
emails for posterous: <a class="reference external" href="http://howdoi.posterous.com/how-to-get-the-most-out-of-posting-by-email">how to get the most out of posting by email</a>.</p>
<p>Instead I stumbled upon an article on using Google Forms to send emails
via the Google infrastructure:&nbsp;<a class="reference external" href="http://www.labnol.org/internet/google-docs-email-form/20884/">Get Form Data from Google Docs in an
Email Message [Video Tutorial]</a>.</p>
<p>So all I had to do was create a form for my bloggers to fill out and
then have the script run by their submission format and send an email to
posterous to post.</p>
<p>Here's my modified version of the form script:</p>
<pre class="code javascript literal-block">
<span class="kd">function</span> <span class="nx">sendFormByEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// create a draft post - posterous will send you an email
</span>  <span class="c1">// when the draft is created.  var email = &quot;draft&#64;YOURBLOGNAMEHERE.posterous.com&quot;;
</span>  <span class="c1">// e.namedValues is a dictionary where the keys
</span>  <span class="c1">// are the names of your form's questions. So you can pick
</span>  <span class="c1">// them out and combine them as you wish.
</span>  <span class="c1">//
</span>  <span class="c1">// My form contained five questions:
</span>  <span class="c1">// 1. 'Title of your blog as you want it to appear'
</span>  <span class="c1">// 2. 'The URL of your blog as you type it in your browser'
</span>  <span class="c1">// 3. 'Title of your article'
</span>  <span class="c1">// 4. 'The URL of your article copied from your browser'
</span>  <span class="c1">// 5. 'Short description/teaser about your article'
</span>  <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">namedValues</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">subject</span> <span class="o">=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Title of your article'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">subject</span> <span class="o">+=</span> <span class="s2">&quot;((tag: attitude))&quot;</span><span class="p">;</span> <span class="c1">// add tags as you wish
</span>  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s1">'&lt;a href=&quot;'</span> <span class="o">+</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'The URL of your blog as you type it in your browser'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'&quot;&gt;'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Title of your blog as you want it to appear'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&lt;/a &gt; wrote:'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;nn&quot;</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Short description/teaser about your article'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&lt; a href=&quot;'</span> <span class="o">+</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'The URL of your article copied from your browser'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&quot;&gt; Read the full article &lt; /a &gt;nn'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;n#end&quot;</span><span class="p">;</span> <span class="c1">// so your email signature won't cause a problem
</span>  <span class="c1">// This is the MailApp service of Google Apps Script
</span>  <span class="c1">// that sends the email. You can also use GmailApp here.
</span>  <span class="nx">MailApp</span><span class="p">.</span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">subject</span><span class="p">,</span> <span class="nx">message</span><span class="p">);</span>
  <span class="c1">// Watch the following video for details   // http://youtu.be/z6klwUxRwQI
</span>  <span class="c1">// By Amit Agarwal - www.labnol.org
</span><span class="p">}</span>
</pre>
<p>In the script you can see how I've accessed the form fields by the full
name and woven them into an email with links embedded - just have to
watch the use of double quotes within single quotes. Which produces blog
entries similar <a class="reference external" href="http://dogagilityblogevents.wordpress.com/if-i-knew-then-proactive-handling">to this one I created manually</a>.</p>
<p>So now I can just send the link to the Google form to participants and
they'll create drafts that I can tweak and/or just submit. It took
longer to write this post than it took to modify and test the script!</p>
</div>
  </div>	
            </div><!--/span-->

	    <div class="span3">
	      <div class="author">
<h4>About</h4>
<div class="author-about">
  <p class="about">I'm Steve Schwarz a Chicago software developer and dog agility enthusiast. <a href="/pages/about.html">more</a></p>
</div>
</div>
<div class="well sidebar-nav">
    <ul class="nav nav-list">
    <li class="nav-header">Blogroll</li>
        <li><a href="http://agilitynerd.com/blog/">agilitynerd.com</a></li>
        <li><a href="http://agilitycourses.com/">agilitycourses.com</a></li>
        <li><a href="http://googility.com/">googility.com</a></li>
      </ul>
      <ul class="nav nav-list social">
    <li class="nav-header">Elsewhere</li>
        <li><a href="http://www.linkedin.com/profile/view?id=10135443">Linked in</a></li>
        <li><a href="https://github.com/saschwarz">GitHub</a></li>
        <li><a href="https://twitter.com/steveaschwarz">Twitter</a></li>
      </ul>
  </div><!--/.well -->
               <script>
  (function() {
    var cx = '001042720131993941673:szhtogqckem';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div class="search">
    <gcse:search></gcse:search>
</div>
            </div><!--/span-->

	  </div>
	</div>
      </div><!--/row-->

      <hr>

      <footer>
        <p>Powered by <a href="http://blog.getpelican.com/">Pelican</a></p>
	<p>&copy; Steve Schwarz 2015</p>
      </footer>

    </div><!--/.fluid-container-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="./theme/js/jquery-1.7.2.min.js"><\/script>')</script>
      <script src="./theme/bootstrap/js/bootstrap.min.js"></script>
      <script src="./theme/js/modernizr-2.5.3-respond-1.1.0.min.js"></script>

  </body>
</html>