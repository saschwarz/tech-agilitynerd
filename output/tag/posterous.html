<!DOCTYPE html>
<html lang="en">
<head>
        <title>tech.agilitynerd.com - posterous</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="../theme/css/main.css" type="text/css" />
                <link href="http://tech.agilitynerd.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="tech.agilitynerd.com Atom Feed" />
                
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie.css"/>
                <script src="../js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="../css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">tech.agilitynerd.com </a></h1>
                <nav><ul>
                                                                                                    <li ><a href="../category/about.html">about</a></li>
                                    <li ><a href="../category/devops.html">devops</a></li>
                                    <li ><a href="../category/misc.html">misc</a></li>
                                    <li ><a href="../category/programming.html">programming</a></li>
                                    <li ><a href="../category/python.html">python</a></li>
                                    <li ><a href="../category/webdev.html">webdev</a></li>
                                </ul></nav>
        </header><!-- /#banner -->
                
            

                            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../create-posterous-posts-from-google-forms.html">Create Posterous Posts from Google Forms</a></h1> 
                    <footer class="post-info">
        <abbr class="published" title="2012-05-12T23:57:00">
                Sat 12 May 2012
        </abbr>

                <address class="vcard author">
                By <a class="url fn" href="../author/steve-schwarz.html">Steve Schwarz</a>
        </address>
        <p>In <a href="../category/webdev.html">webdev</a>. </p>
<p>tags: <a href="../tag/email.html">email</a><a href="../tag/google.html">google</a><a href="../tag/posterous.html">posterous</a></p>
</footer><!-- /.post-info --><p>I've been organizing dog agility bloggers for&nbsp;<a class="reference external" href="http://dog-agility-blog-events.posterous.com/">Dog Agility Blog Action
Days</a>&nbsp;and wanted to automate updating our group's blog when each
blogger posted their article on the event/action days. For past events I
had the bloggers email me with the information and manually created each
entry in the blog.</p>
<p>Since <a class="reference external" href="http://posterous.com">posterous</a> supports posting via email I knew I could create a
form on one of my web servers and have the page format the data so
posterous could turn it into a post. Here are the details for formatting
emails for posterous: <a class="reference external" href="http://howdoi.posterous.com/how-to-get-the-most-out-of-posting-by-email">how to get the most out of posting by email</a>.</p>
<p>Instead I stumbled upon an article on using Google Forms to send emails
via the Google infrastructure:&nbsp;<a class="reference external" href="http://www.labnol.org/internet/google-docs-email-form/20884/">Get Form Data from Google Docs in an
Email Message [Video Tutorial]</a>.</p>
<p>So all I had to do was create a form for my bloggers to fill out and
then have the script run by their submission format and send an email to
posterous to post.</p>
<p>Here's my modified version of the form script:</p>
<pre class="code javascript literal-block">
<span class="kd">function</span> <span class="nx">sendFormByEmail</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// create a draft post - posterous will send you an email
</span>  <span class="c1">// when the draft is created.  var email = &quot;draft&#64;YOURBLOGNAMEHERE.posterous.com&quot;;
</span>  <span class="c1">// e.namedValues is a dictionary where the keys
</span>  <span class="c1">// are the names of your form's questions. So you can pick
</span>  <span class="c1">// them out and combine them as you wish.
</span>  <span class="c1">//
</span>  <span class="c1">// My form contained five questions:
</span>  <span class="c1">// 1. 'Title of your blog as you want it to appear'
</span>  <span class="c1">// 2. 'The URL of your blog as you type it in your browser'
</span>  <span class="c1">// 3. 'Title of your article'
</span>  <span class="c1">// 4. 'The URL of your article copied from your browser'
</span>  <span class="c1">// 5. 'Short description/teaser about your article'
</span>  <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">namedValues</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">subject</span> <span class="o">=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Title of your article'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">subject</span> <span class="o">+=</span> <span class="s2">&quot;((tag: attitude))&quot;</span><span class="p">;</span> <span class="c1">// add tags as you wish
</span>  <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="s1">'&lt;a href=&quot;'</span> <span class="o">+</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'The URL of your blog as you type it in your browser'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'&quot;&gt;'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Title of your blog as you want it to appear'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&lt;/a &gt; wrote:'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;nn&quot;</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'Short description/teaser about your article'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&lt; a href=&quot;'</span> <span class="o">+</span> <span class="nx">v</span><span class="p">[</span><span class="s1">'The URL of your article copied from your browser'</span><span class="p">].</span><span class="nx">toString</span><span class="p">(</span><span class="p">);</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s1">'&quot;&gt; Read the full article &lt; /a &gt;nn'</span><span class="p">;</span>
  <span class="nx">message</span> <span class="o">+=</span> <span class="s2">&quot;n#end&quot;</span><span class="p">;</span> <span class="c1">// so your email signature won't cause a problem
</span>  <span class="c1">// This is the MailApp service of Google Apps Script
</span>  <span class="c1">// that sends the email. You can also use GmailApp here.
</span>  <span class="nx">MailApp</span><span class="p">.</span><span class="nx">sendEmail</span><span class="p">(</span><span class="nx">email</span><span class="p">,</span> <span class="nx">subject</span><span class="p">,</span> <span class="nx">message</span><span class="p">);</span>
  <span class="c1">// Watch the following video for details   // http://youtu.be/z6klwUxRwQI
</span>  <span class="c1">// By Amit Agarwal - www.labnol.org
</span><span class="p">}</span>
</pre>
<p>In the script you can see how I've accessed the form fields by the full
name and woven them into an email with links embedded - just have to
watch the use of double quotes within single quotes. Which produces blog
entries similar <a class="reference external" href="http://dogagilityblogevents.wordpress.com/if-i-knew-then-proactive-handling">to this one I created manually</a>.</p>
<p>So now I can just send the link to the Google form to participants and
they'll create drafts that I can tweak and/or just submit. It took
longer to write this post than it took to modify and test the script!</p>
                </article>
                                    <p class="paginator">
        Page 1 / 1
    </p>
                            </aside><!-- /#featured -->
                                                </ol><!-- /#posts-list -->
                        </section><!-- /#content -->
                    <section id="extras" class="body">
                                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://tech.agilitynerd.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            
                                                </ul>
                </div><!-- /.social -->
                </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>