<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <title>tech.agilitynerd</title>
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Steve Schwarz">      <!-- <link href="http://127.0.0.1:5500/TechAgilityNerd" type="application/atom+xml" rel="alternate" title="tech.agilitynerd Atom Feed" /> -->
    <link href="http://feeds.feedburner.com/TechAgilityNerd" type="application/atom+xml" rel="alternate" title="tech.agilitynerd Atom Feed" />       <!-- Le styles -->
    <link href="http://tech.agilitynerd.com/theme/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
        body {
            padding-top: 60px;
            padding-bottom: 40px;
        }

        .sidebar-nav {
            padding: 9px 0;
        }

        @media (max-width: 767px) {
            .sidebar {
                margin-top: 2em;
                border-top: 1px solid #e3e3e3;
                padding-top: 1em;
            }
            .sidebar .search {
                margin-bottom: 0;
            }
        }
    </style>
    <link href="http://tech.agilitynerd.com/theme/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="http://tech.agilitynerd.com/theme/local.css" rel="stylesheet">
    <link href="http://tech.agilitynerd.com/theme/pygments.css" rel="stylesheet"> <script>var _gaq=[['_setAccount','UA-1127677-3'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
 <script type="text/javascript">
  var disqus_shortname = "techagilitynerd"; // required: replace example with your forum shortname
  var disqus_developer = 1;
  
  var disqus_identifier = "image-theft-ranting-and-blocking-1.html";
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

  (function () {
  var s = document.createElement('script'); s.async = true;
  s.type = 'text/javascript';
  s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>
</head>

<body>
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
  <div class="navbar navbar-inverse navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
      </a>
      <a class="brand" href="http://tech.agilitynerd.com/index.html">tech.agilitynerd</a>
      <div class="nav-collapse collapse">
	<ul class="nav">
	  <li ><a href="http://tech.agilitynerd.com/category/devops.html">devops</a></li>
	  <li ><a href="http://tech.agilitynerd.com/category/javascript.html">javascript</a></li>
	  <li ><a href="http://tech.agilitynerd.com/category/misc.html">misc</a></li>
	  <li ><a href="http://tech.agilitynerd.com/category/programming.html">programming</a></li>
	  <li ><a href="http://tech.agilitynerd.com/category/python.html">python</a></li>
	  <li class="active"><a href="http://tech.agilitynerd.com/category/webdev.html">webdev</a></li>
	</ul>
	<p class="navbar-text pull-right">
	  <a class="navbar-link" href="http://tech.agilitynerd.com/archives.html">[archives]</a>
	  <a class="navbar-link" href="http://tech.agilitynerd.com/tags.html">[tags]</a>
	</p>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</div>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span1">&nbsp;</div>
            <div class="span10">
                <div class="row-fluid">
                    <div class="span9">
 <div class='article'>
  <div class="page-header"><h1>Image Theft Ranting And Blocking</h1></div>
  <div class="well small"><a class="more" href="http://tech.agilitynerd.com/image-theft-ranting-and-blocking-1.html">On 29 Dec 2007 at 2316</a>
by <a class="url fn" href="http://tech.agilitynerd.com/author/steve-schwarz.html">Steve Schwarz</a> in <a href="http://tech.agilitynerd.com/category/webdev.html">webdev</a>
 | <a href="http://tech.agilitynerd.com/image-theft-ranting-and-blocking-1.html#disqus_thread">Comments</a></div>
  <div><p>I was really disappointed yesterday when I checked my blog's statistics
and found that someone from a Hungarian Agility discussion board had
directly linked course images from my website. Direct linking of an
image is placing the URL of the image directly in a webpage hosted on
another server. Each time a browser loads that page the direct link
causes the other server to send the image to the client's browser. So
each time the forum is viewed my server has to send the images to the
forum's viewer.</p>
<p>I purposely try to make my image sizes small to make it possible for
dial up visitors to view my site without too much delay. So direct
linking doesn't impact my bandwidth costs too much; so far it is about
1Mb a day. The additional burden it puts on the webserver should be
small too, but since I don't own the shared server I don't really know.</p>
<div class="section" id="ranting">
<h2>Ranting</h2>
<p>The aspect of this that most irritates me is that someone would copy my
work without attribution. That is the only thing I ask of visitors to my
site who wish to reuse my content. The <a class="reference external" href="http://creativecommons.org/licenses/by-nc-sa/2.0/">license link</a> at the bottom of
each page should make this clear. I really don't think this is it too
much to ask.</p>
<p>I take copyright infringement very seriously. To me it isn't just the
legal requirements of using other's material in accordance with their
wishes that is important, taking credit, explicitly or implicitly, for
another's work is just wrong. This is one of those <a class="reference external" href="http://www.robertfulghum.com/books.php#book1">All I Really Need To
Know I Learned In Kindergarten</a> concepts: <a class="reference external" href="http://www.peace.ca/kindergarten.htm">Don't take things that
aren't yours</a>. As a friend of Nancy's says &quot;Some people don't have good
home training&quot;.</p>
<p>Lastly, the Agility community is still a small community and the online
Agility community even more so. I guess I am naive, but I hoped that the
members of our community wouldn't do things like this.</p>
</div>
<div class="section" id="blocking">
<h2>Blocking</h2>
<p>My first step was emailing the webmaster of the site. The site was
entirely in Hungarian so it is possible the webmaster may not have
understood my English request. In any event, after 24 hours they hadn't
removed the links.</p>
<p>So I went to look for a technical solution. There are a few well known
technical solutions for this problem. A search of Google for <a class="reference external" href="http://www.google.com/search?q=blocking+direct+linking">blocking
direct linking</a> or <a class="reference external" href="http://www.google.com/search?q=blocking+hotlinking">blocking hotlinking</a> will turn them all up. The
most useful solutions include:</p>
<blockquote>
<ul class="simple">
<li>Rename the direct linked images</li>
</ul>
<blockquote>
This mean updating all posts one your site to match the new name.
But if you only have a few images and/or posts to them you can do this on a per direct link basis.</blockquote>
<ul>
<li><p class="first">Randomly generate image file names that change over time</p>
<p>This is usually used for photo galleries where there is no text referring to each image.</p>
</li>
<li><p class="first">Serve images through a script</p>
<p>This script would reject requests for images based on information in
the request. This can be a compute intensive approach since it causes
requests even from your own site to go through the script. For sites
where you don't have control over the webserver this may be required.</p>
</li>
<li><p class="first">Use a Rewrite rule to serve a different image to non-local referers</p>
<p>This is the technique I used.</p>
</li>
</ul>
</blockquote>
<p>Based on this <a class="reference external" href="http://altlab.com/htaccess_tutorial.html">altlab.com article</a> I originally added these rules to my
.htaccess file on my server:</p>
<pre class="literal-block">
RewriteEngine on
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http://(www.)?agilitynerd.com/.\* [NC]
RewriteRule .\*.(jpg\|jpeg\|gif\|png\|bmp)$ /images/nodirectlink.g [L,NC]
</pre>
<p>I then created an image called nodirectlink.g shown below.</p>
</div>
<div class="section" id="redirected-image">
<h2>Redirected Image</h2>
<div class="p_embed p_image_embed"><p><img alt="image0" src="http://data.agilitynerd.com/images/nodirectlink.g" /></p>
</div><p>Don't use the same filename suffix as one of the real image filenames
you use or you'll loop the rewrite engine.</p>
<p>I had forgotten about images direct linked by RSS feed readers that
access the root. Rather than rewrite those requests I moved my Rewrite
rules into the .htaccess file in the images directory. I also decided to
not send the image after all, I'll just fail the request. There is no
sense in even wasting the bandwidth, the clients will now get the broken
image icon from their browser. The official <a class="reference external" href="http://httpd.apache.org/docs/1.3/misc/rewriteguide.html">Apache URL Rewriting
Guide</a> describes this in the Blocked Inline-Images section. So here is
my final solution:</p>
<pre class="literal-block">
RewriteEngine on
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http://(www.)?agilitynerd.com/.\*$ [NC]
RewriteRule .\*.(jpg\|jpeg\|gif\|png\|bmp)$ - [F]
</pre>
<p>I took this opportunity to modify some of my very first articles and
move their images into the /images directory. Those images were being
served by the Blosxom binary plugin back when I thought it was a
good idea. Now I won't pay any extra processing cost for those images.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>So now I have a technical solution to a human problem. There is a chance
that this change may cause some viewers of this site to not see images
on this site. But hopefully that should be a very, very small number of
people. But if you think you are getting my blocking image incorrectly
Please email me: steve at agilitynerd.com.</p>
<p>I'm still disappointed I was forced to resort to this change.</p>
</div>
</div>
  <div>
    <h2>Comments</h2>
    <div id="disqus_thread"></div>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>	
                    </div>
                    <!--/span-->

                    <div class="span3 sidebar">
 <script>
  (function() {
    var cx = '001042720131993941673:szhtogqckem';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
        '//www.google.com/cse/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<div class="search">
    <gcse:search></gcse:search>
</div>
 <hr>
<div class="author">
<h4>About</h4>
<div class="author-about">
  <p class="about">I'm Steve Schwarz a Chicago software developer and dog agility enthusiast. <a href="/pages/about.html">more</a></p>
</div>
</div>
<div class="well sidebar-nav">
  <ul class="nav nav-list">
    <li class="nav-header">Blogroll</li>
    <li><a href="http://agilitynerd.com/blog/">agilitynerd.com</a></li>
    <li><a href="http://agilitycourses.com/">agilitycourses.com</a></li>
    <li><a href="http://googility.com/">googility.com</a></li>
  </ul>
  <ul class="nav nav-list social">
    <li class="nav-header">Elsewhere</li>
    <li><a href="http://www.linkedin.com/profile/view?id=10135443">Linked in</a></li>
    <li><a href="https://github.com/saschwarz">GitHub</a></li>
    <li><a href="https://twitter.com/steveaschwarz">Twitter</a></li>
  </ul>
</div><!--/.well -->
                    </div>
                    <!--/span-->

                </div>
            </div>
        </div>
        <!--/row-->

        <hr>

        <footer>
            <p>Powered by <a href="http://blog.getpelican.com/">Pelican</a></p>
            <p>&copy; Steve Schwarz 2016</p>
        </footer>

    </div>
    <!--/.fluid-container-->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>
        window.jQuery || document.write('<script src="http://tech.agilitynerd.com/theme/js/jquery-1.7.2.min.js"><\/script>')
    </script>
    <script src="http://tech.agilitynerd.com/theme/bootstrap/js/bootstrap.min.js"></script>
    <script src="http://tech.agilitynerd.com/theme/js/modernizr-2.5.3-respond-1.1.0.min.js"></script>

</body>

</html>